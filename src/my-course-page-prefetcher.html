<link rel="import" href="prefetch-mixin.html">
<link rel="import" href="activities/user-activity-usage-list.html">
<link rel="import" href="updates/updates-card.html">
<link rel="import" href="discussions/discussions-forum-list.html">
<link rel="import" href="awards/awards-card.html">

<script>
	class MyCoursePagePrefetcher extends PrefetchMixin(null) {
		static get interesting() {
			return [
				{
					getLinks: entity => entity.hasClass('enrollment') && entity.getLinkByRel('https://api.brightspace.com/rels/user'),
					elements: [this]
				}, {
					getLinks: entity => entity.hasClass('enrollment') && entity.getLinkByRel('https://api.brightspace.com/rels/organization'),
					elements: [this]
				}, {
					getLinks: entity => entity.hasClass('enrolled') && entity.hasClass('user') && entity.getLinkByRel('https://users.api.brightspace.com/rels/canonical-user'),
					elements: [this]
				}, {
					getLinks: entity => (entity.hasClass('organization') || entity.hasClass('course-offering')) && entity.getLinkByRel('https://activities.api.brightspace.com/rels/my-organization-activities'),
					elements: [window.customElements.get('d2l-user-activity-usage-list')]
				}, {
					getLinks: entity => entity.hasClass('user') && entity.getLinkByRel('https://api.brightspace.com/rels/updates'),
					elements: [window.customElements.get('d2l-updates-card')]
				}, {
					getLinks: entity => (entity.hasClass('organization') || entity.hasClass('course-offering')) && entity.getLinkByRel('https://api.brightspace.com/rels/discussions'),
					elements: [window.customElements.get('d2l-discussions-forum-list')]
				}, {
					getLinks: entity => (entity.hasClass('organization') || entity.hasClass('course-offering')) && entity.getLinkByRel('https://api.brightspace.com/rels/my-organization-awards'),
					elements: [window.customElements.get('d2l-awards-card')]
				}
			];
		}
	}

	window.D2L = window.D2L || {};
	window.D2L.MyCoursePagePrefetcher = MyCoursePagePrefetcher;
</script>
