<script>
    /*
        @polymerMixin
    */
    PaginateMixin = function(propName, superClass) {
        return class extends superClass {
            static get properties() {
                return {
                    paginated: Array,
                    hasMore: Boolean,
                    size: {
                        type: Number,
                        value: 10
                    },
                    page: {
                        type: Number,
                        value: 1
                    }
                };
            }

            static get observers() {
                return [
                    `_itemsChanged(${propName})`,
                    '_pageChanged(size, page)'
                ];
            }

            _itemsChanged() {
                this.page = 1;
                this._pageChanged();
            }

            _pageChanged() {
                this.paginated = this.get(propName).slice(0, this.size * this.page);
                this.hasMore = this.get(propName).length > this.paginated.length;
            }

            loadMoreData(e) {
                if (this.hasMore) {
                    this.page++;
                }
                e.target.clearTriggers();
            }
        };
    };
</script>
